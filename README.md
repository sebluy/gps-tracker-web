Todo:

Add schema validation.

Integrate existing schema.

Handle errors
- on remote errors revert to last known state
- log to console errors
- display nice message on screen (steal from fractify)

Bring libraries up to date.

Rename db to state.

Rewrite handlers to only make one final swap! on db.

Add tests.

Add authentication/authorization.

Add distance between each waypoint to waypoint creation map.

Allow waypoints to be moved on waypoint creation map.

Fix % in bidi and convert dates in urls to iso time instead of long
